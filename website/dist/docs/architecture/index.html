<!doctype html>
<html>
  <head>
    <title>Netlify CMS | Open-Source Content Management System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/img/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/img/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/img/favicon/manifest.json">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#96cf05">
    <meta name="apple-mobile-web-app-title" content="NetlifyCMS">
    <meta name="application-name" content="NetlifyCMS">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/main.css"/>
    
      <link rel="stylesheet" href="/css/lib/prism.css"/>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  </head>
  <body>
    
      
        
      
        
          <a href="https://gitter.im/netlify/netlifycms" class="notification notification-loud">We have a community on Gitter - join now to ask questions and discuss the project with other devs!</a>
        
      
    
    <header id="header" class="docs">
      <div class="contained">
        <a href="/" class="logo"><img src="/img/netlify-cms-logo.svg"/></a>
        <a class="nav-link docs-link" href="/docs">Docs</a>
        <a class="nav-link contributing-link" href="/docs/contributor-guide">Contributing</a>
        <a class="nav-link" href="/community">Community</a>
        <a class="utility-input">
          <img src="/img/search.svg" />
          <input type="search" placeholder="Search the docs" class="algolia-search"/>
        </a>
        <a href="https://github.com/netlify/netlify-cms" class="btn-secondary small github-btn "><img src="/img/github.svg"/> Fork me on GitHub</a>
      </div>
    </header>



<div class="docs detail page">
	<div class="container">
		<aside id="sidebar" class="sidebar">
			<nav class="docs-nav" id="docs-nav">
				
				
					<a href="/docs/intro/" class="nav-link ">Introduction</a>
				
					<a href="/docs/" class="nav-link ">Docs</a>
				
					<a href="/docs/test-drive/" class="nav-link ">Test Drive</a>
				
					<a href="/docs/quick-start/" class="nav-link ">Quick Start</a>
				
					<a href="/docs/authentication-backends/" class="nav-link ">Authentication &amp; Backends</a>
				
					<a href="/docs/widgets/" class="nav-link ">Widgets</a>
				
					<a href="/docs/editorial-workflow/" class="nav-link ">Editorial Workflow</a>
				
					<a href="/docs/customization/" class="nav-link ">Custom Previews</a>
				
					<a href="/docs/extending/" class="nav-link ">Extending Widgets</a>
				
					<a href="/docs/validation/" class="nav-link ">Validation</a>
				
					<a href="/docs/architecture/" class="nav-link active">Architecture</a>
				
					<a href="/docs/contributor-guide/" class="nav-link ">Contributing</a>
				
					<a href="/docs/examples/" class="nav-link ">Examples</a>
				
			</nav>
			<div class="mobile docs-nav">
				<select class="btn-primary" id="mobile-docs-nav">
					<option value="" selected="selected">Select A Topic</option>
					
					
						<option value="/docs/intro/" class="nav-link ">Introduction</option>
					
						<option value="/docs/" class="nav-link ">Docs</option>
					
						<option value="/docs/test-drive/" class="nav-link ">Test Drive</option>
					
						<option value="/docs/quick-start/" class="nav-link ">Quick Start</option>
					
						<option value="/docs/authentication-backends/" class="nav-link ">Authentication &amp; Backends</option>
					
						<option value="/docs/widgets/" class="nav-link ">Widgets</option>
					
						<option value="/docs/editorial-workflow/" class="nav-link ">Editorial Workflow</option>
					
						<option value="/docs/customization/" class="nav-link ">Custom Previews</option>
					
						<option value="/docs/extending/" class="nav-link ">Extending Widgets</option>
					
						<option value="/docs/validation/" class="nav-link ">Validation</option>
					
						<option value="/docs/architecture/" class="nav-link active">Architecture</option>
					
						<option value="/docs/contributor-guide/" class="nav-link ">Contributing</option>
					
						<option value="/docs/examples/" class="nav-link ">Examples</option>
					
				</select>
			</div>
		</aside>
		<article class="docs-content" id="docs-content">
			<a class="edit-this-page" href="https://github.com/netlify/netlify-cms/blob/master/website/site/content/docs/architecture.md">
  <svg version="1.1" id="pencil" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     width="14px" height="14px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
  <path d="M398.875,248.875L172.578,475.187l-22.625-22.625L376.25,226.265L398.875,248.875z M308.375,158.39L82.063,384.687
    l45.266,45.25L353.625,203.64L308.375,158.39z M263.094,113.125L36.828,339.437l22.625,22.625L285.75,135.765L263.094,113.125z
     M308.375,67.875L285.719,90.5L421.5,226.265l22.625-22.625L308.375,67.875z M376.25,0L331,45.25l135.75,135.766L512,135.781
    L376.25,0z M32,453.5V480h26.5L32,453.5 M0,376.25L135.766,512H0V376.25L0,376.25z"/>
  </svg>
  Edit this page
</a>
			

<h1 id="technical-architecture">Technical Architecture</h1>

<p>Netlify CMS is a React application, using Redux for state management with immutable data structures (immutable.js).</p>

<p>The core abstractions for content editing are <code>collections</code>, <code>entries</code> and <code>widgets</code>.</p>

<p>Each <code>collection</code> represents a collection of entries. This can either be a collection of similar entries with the same structure, or a set of entries where each has its own structure.</p>

<p>The structure of an entry is defined as a series of fields, each with a <code>name</code>, a <code>label</code>, and a <code>widget</code> .</p>

<p>The <code>widget</code> determines the UI widget that the content editor will use when editing this field of an entry, as well as how the content of the field is presented in the editing preview.</p>

<p>Entries are loaded and persisted through a <code>backend</code> that will typically represent a <code>git</code> repository.</p>

<h2 id="state-shape-reducers">State shape / reducers</h2>

<p><strong>Auth:</strong> Keeps track of the logged state and the current user.</p>

<p><strong>Config:</strong> Holds the environment configuration (backend type, available collections and fields).</p>

<p><strong>Collections</strong> List of available collections, their fields and metadata information.</p>

<p><strong>Entries:</strong> Entries for each field.</p>

<p><strong>EntryDraft:</strong> Reused for each entry that is edited or created. It holds the entry&rsquo;s temporary data until it&rsquo;s persisted on the backend.</p>

<h2 id="selectors">Selectors</h2>

<p>Selectors are functions defined within reducers used to compute derived data from the Redux store. The available selectors are:</p>

<p><strong>selectEntry:</strong> Selects a single entry, given the collection and a slug.</p>

<p><strong>selectEntries:</strong> Selects all entries for a given collection.</p>

<p><strong>getAsset:</strong> Selects a single AssetProxy object for the given URI.</p>

<h2 id="value-objects">Value Objects</h2>

<p><strong>AssetProxy:</strong> AssetProxy is a Value Object that holds information regarding an asset file (such as an image, for example), whether it&rsquo;s persisted online or held locally in cache.</p>

<p>For a file persisted online, the AssetProxy only keeps information about its URI. For local files, the AssetProxy will keep a reference to the actual File object while generating the expected final URIs and on-demand blobs for local preview.</p>

<p>The AssetProxy object can be used directly inside a media tag (such as <code>&lt;img&gt;</code>), as it will always return something that can be used by the media tag to render correctly (either the URI for the online file or a single-use blob).</p>

<h2 id="components-structure-and-workflows">Components structure and Workflows</h2>

<p>Components are separated into two main categories: Container components and Presentational components.</p>

<h3 id="entry-editing">Entry Editing</h3>

<p>For either updating an existing entry or creating a new one, the <code>EntryEditor</code> is used and the flow is the same:
* When mounted, the <code>EntryPage</code> container component dispatches the <code>createDraft</code> action, setting the <code>entryDraft</code> state to a blank state (in case of a new entry) or to a copy of the selected entry (in case of an edit).
* The <code>EntryPage</code> will also render widgets for each field type in the given entry.
* Widgets are used for editing entry fields. There are different widgets for different field types, and they are always defined in a pair containing a <code>control</code> and a <code>preview</code> component. The control component is responsible for presenting the user with the appropriate interface for manipulating the current field value, while the preview component is responsible for displaying the value with the appropriate styling.</p>

<h4 id="widget-components-implementation">Widget components implementation</h4>

<p>The control component receives one (1) callback as a prop: <code>onChange</code>.
* onChange (required): Should be called when the users changes the current value. It will ultimately end up updating the EntryDraft object in the Redux Store, thus updating the preview component.</p>

		</article>
	</div>
</div>

<footer>
  <p class="contained"><a href="https://github.com/netlify/netlify-cms/blob/master/LICENSE" class="text-link">Distributed under MIT License</a> Â·
  <a href="https://github.com/netlify/netlify-cms/blob/master/CODE_OF_CONDUCT.md" class="text-link">Code of Conduct</a></p>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <script src="/jquery.scrollTo.min.js"></script>
  <script src="/jquery.localScroll.min.js"></script>
  <script src="/prism.js"></script>


<script src="/app.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: '08d03dc80862e84c70c5a1e769b13019',
indexName: 'netlifycms',
inputSelector: '.algolia-search',
debug: false 
});
</script>
</body>
</html>

